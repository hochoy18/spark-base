[Spark性能优化指南——基础篇](https://tech.meituan.com/2016/04/29/spark-tuning-basic.html)


- 避免创建重复的RDD


- 尽可能复用同一个RDD

- 对多次使用的RDD进行持久化

- 尽量避免使用shuffle类算子


- 使用map-side预聚合的shuffle操作


- 使用高性能的算子  
除了shuffle相关的算子有优化原则之外，其他的算子也都有着相应的优化原则。

   - 使用reduceByKey/aggregateByKey替代groupByKey
   - 使用mapPartitions替代普通map
   - 使用foreachPartitions替代foreach
   
   - 使用filter之后进行coalesce操作
   
   - 使用 repartitionAndSortWithinPartitions 替代 repartition 与 sort 类操作
   
   
- 广播大变量


- 使用Kryo优化序列化性能


- 优化数据结构